<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DJ Alamo â€” Official App</title>
<link rel="manifest" href="manifest.json">
<style>
  :root{
    --bg1:#0c1c3a; --bg2:#050b18; --card:rgba(255,255,255,0.06);
    --text:#eaf1ff; --muted:rgba(234,241,255,0.72);
    --btn1:#3b82f6; --btn2:#2563eb; --stroke:rgba(255,255,255,0.10);
    --good:#22c55e;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(circle at top,var(--bg1),var(--bg2));
    color:var(--text);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    text-align:center;padding:18px 14px 22px}
  .wrap{max-width:500px;margin:0 auto}
  .card{background:var(--card);border:1px solid var(--stroke);border-radius:22px;
    padding:18px 16px 16px;box-shadow:0 18px 50px rgba(0,0,0,.4)}
  .logo{width:min(240px,82vw);margin:2px auto 8px;border-radius:18px}
  .title{font-size:18px;font-weight:900}
  .desc{color:var(--muted);font-size:14px}
  .tabs{display:flex;gap:8px;justify-content:center;margin:12px 0;flex-wrap:wrap}
  .tabBtn{border-radius:999px;padding:10px 12px;font-size:13px;font-weight:800;
    color:rgba(234,241,255,.88);background:rgba(0,0,0,.18);
    border:1px solid rgba(255,255,255,.1);cursor:pointer}
  .tabBtn.active{color:#fff;background:linear-gradient(135deg,var(--btn1),var(--btn2))}
  .section{display:none;text-align:left}
  .section.active{display:block}
  .list{margin-top:12px;display:grid;gap:10px}
  .track{display:flex;gap:10px;align-items:center;padding:12px;border-radius:18px;
    background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);cursor:pointer}
  .tCover{width:46px;height:46px;border-radius:14px;display:grid;place-items:center}
  .tTitle{font-weight:900;font-size:14px}
  .tSub{font-size:12px;color:rgba(234,241,255,.7)}
  .pill{font-size:11px;font-weight:900;padding:6px 8px;border-radius:999px;
    border:1px solid rgba(255,255,255,.1)}
</style>
</head>

<body>
<div class="wrap"><div class="card">
  <img src="dj-alamo.png" class="logo" alt="DJ Alamo"/>
  <div class="title">DJ Alamo</div>
  <div class="desc">Official app â€” mixes, interviews, and media.</div>

  <div class="tabs">
    <button class="tabBtn active" data-tab="home">Home</button>
    <button class="tabBtn" data-tab="listen">Listen</button>
    <button class="tabBtn" data-tab="media">Media</button>
    <button class="tabBtn" data-tab="about">About</button>
  </div>

  <div id="tab-home" class="section active"><p class="desc">No algorithm. Direct to fans.</p></div>

  <div id="tab-listen" class="section">
    <div class="list" id="trackList"></div>
  </div>

  <div id="tab-media" class="section">
    <div class="list" id="mediaList"></div>
  </div>

  <div id="tab-about" class="section"><p class="desc">Artist-owned experience.</p></div>
</div></div>

<script>
const tabs=document.querySelectorAll('.tabBtn');
const sections={home:tab-home,listen:tab-listen,media:tab-media,about:tab-about};
tabs.forEach(b=>b.onclick=()=>{tabs.forEach(x=>x.classList.remove('active'));
  b.classList.add('active');
  Object.values(sections).forEach(s=>s.classList.remove('active'));
  sections[b.dataset.tab].classList.add('active');});

function esc(s){return String(s||'').replace(/[&<>"']/g,m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]))}

async function load(){
  const r=await fetch('content.json',{cache:'no-store'});const j=await r.json();
  (j.tracks||[]).forEach(t=>{
    const d=document.createElement('div');d.className='track';
    d.innerHTML=`<div class="tCover">â–¶</div><div><div class="tTitle">${esc(t.title)}</div><div class="tSub">${esc(t.subtitle||'')}</div></div><span class="pill">${esc(t.tag||'')}</span>`;
    d.onclick=()=>location.assign(t.url); trackList.appendChild(d);
  });
  (j.media||[]).forEach(m=>{
    const d=document.createElement('div');d.className='track';
    d.innerHTML=`<div class="tCover">ðŸŽ¥</div><div><div class="tTitle">${esc(m.title)}</div><div class="tSub">${esc(m.subtitle||'')}</div></div><span class="pill">${esc(m.tag||'Media')}</span>`;
    d.onclick=()=>location.assign(m.url); mediaList.appendChild(d);
  });
}
load();
</script>
</body>
</html>
